"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[667],{2106:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"module1/chapter1","title":"Introduction to ROS 2","description":"Learning Objectives","source":"@site/docs/module1/chapter1.md","sourceDirName":"module1","slug":"/module1/chapter1","permalink":"/Physical-AI-Robotic-Book/ur/docs/module1/chapter1","draft":false,"unlisted":false,"editUrl":"https://github.com/DaniyalAneeq/Physical-AI-Robotic-Book/tree/main/AIdd-book/docs/module1/chapter1.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"id":"chapter1","title":"Introduction to ROS 2","sidebar_position":1},"sidebar":"bookSidebar","previous":{"title":"Module 1: The Robotic Nervous System (ROS 2)","permalink":"/Physical-AI-Robotic-Book/ur/docs/category/module-1-the-robotic-nervous-system-ros-2"},"next":{"title":"ROS 2 Nodes, Topics, and Messages","permalink":"/Physical-AI-Robotic-Book/ur/docs/module1/chapter2"}}');var r=n(4848),t=n(8453);const l={id:"chapter1",title:"Introduction to ROS 2",sidebar_position:1},o=void 0,a={},c=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Key Concepts",id:"key-concepts",level:2},{value:"Deep Theoretical Explanation",id:"deep-theoretical-explanation",level:2},{value:"The ROS 2 Architecture and DDS",id:"the-ros-2-architecture-and-dds",level:3},{value:"Practical Tasks",id:"practical-tasks",level:2},{value:"1. ROS 2 Installation",id:"1-ros-2-installation",level:3},{value:"2. Workspace Creation",id:"2-workspace-creation",level:3},{value:"3. Running <code>turtlesim</code>",id:"3-running-turtlesim",level:3},{value:"Diagrams",id:"diagrams",level:2},{value:"Code Templates",id:"code-templates",level:2},{value:"Basic <code>rclpy</code> Publisher Example",id:"basic-rclpy-publisher-example",level:3},{value:"Basic <code>rclpy</code> Subscriber Example",id:"basic-rclpy-subscriber-example",level:3}];function d(e){const s={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Understand the core architecture of ROS 2, including the role of the DDS middleware."}),"\n",(0,r.jsx)(s.li,{children:"Learn how to install ROS 2 on a supported Linux distribution."}),"\n",(0,r.jsx)(s.li,{children:"Create and manage a ROS 2 workspace for developing robot applications."}),"\n",(0,r.jsx)(s.li,{children:"Get hands-on experience with fundamental ROS 2 concepts by running a simple simulation."}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"key-concepts",children:"Key Concepts"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Nodes"}),": A node is a process that performs computation. In ROS 2, a single executable can contain one or more nodes. They are the fundamental building blocks of a ROS 2 system, responsible for specific tasks like controlling a motor, reading sensor data, or planning a path."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Topics"}),": Topics are named buses over which nodes exchange messages. They are the primary mechanism for asynchronous, publish/subscribe communication. A node can publish messages to a topic, and any number of nodes can subscribe to that topic to receive the messages."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Messages"}),": Messages are the data structures used for communication over topics. ROS 2 provides a rich set of standard message types (e.g., ",(0,r.jsx)(s.code,{children:"std_msgs"}),", ",(0,r.jsx)(s.code,{children:"sensor_msgs"}),", ",(0,r.jsx)(s.code,{children:"geometry_msgs"}),"), and you can also define your own custom message types in ",(0,r.jsx)(s.code,{children:".msg"})," files."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Services"}),': Services provide a synchronous, request/reply communication pattern. A client node sends a request to a server node and waits for a response. This is useful for tasks that have a clear beginning and end, like "get the robot\'s current position."']}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Actions"}),': Actions are used for long-running, asynchronous tasks that provide feedback. An action client sends a goal to an action server (e.g., "move to a specific location"). The server executes the goal, providing periodic feedback (e.g., "distance to goal"), and eventually returns a result.']}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"ROS Graph"}),": The ROS Graph is the network of all ROS 2 elements (nodes, topics, services, actions) running in a system at a given time. Understanding the graph is crucial for debugging and introspection."]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"deep-theoretical-explanation",children:"Deep Theoretical Explanation"}),"\n",(0,r.jsx)(s.h3,{id:"the-ros-2-architecture-and-dds",children:"The ROS 2 Architecture and DDS"}),"\n",(0,r.jsxs)(s.p,{children:["ROS 2 represents a significant architectural evolution from ROS 1. One of the most fundamental changes is the adoption of the ",(0,r.jsx)(s.strong,{children:"Data Distribution Service (DDS)"})," as its underlying middleware. DDS is an industry standard for real-time, scalable, and reliable data exchange."]}),"\n",(0,r.jsx)(s.p,{children:"By using DDS, ROS 2 gains several key advantages:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Improved Performance"}),": DDS provides a high-performance, low-latency communication layer."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Enhanced Reliability"}),': It offers configurable Quality of Service (QoS) policies for data delivery, such as "reliable" (guaranteed delivery) and "best effort" (faster, but with potential for message loss).']}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Better Scalability"}),": DDS is designed for large, distributed systems, making ROS 2 suitable for complex multi-robot applications."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Interoperability"}),": Different DDS implementations from various vendors can interoperate, providing flexibility."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["The ROS 2 stack is layered, with the user-facing ROS 2 client libraries (",(0,r.jsx)(s.code,{children:"rclpy"})," for Python, ",(0,r.jsx)(s.code,{children:"rclcpp"})," for C++) at the top. These libraries provide the familiar ROS concepts (nodes, topics, etc.). Beneath them, the ",(0,r.jsx)(s.code,{children:"rmw"})," (ROS Middleware) API provides an abstraction layer, and the ",(0,r.jsx)(s.code,{children:"rmw"})," implementation for a specific DDS vendor sits below that."]}),"\n",(0,r.jsx)(s.h2,{id:"practical-tasks",children:"Practical Tasks"}),"\n",(0,r.jsx)(s.h3,{id:"1-ros-2-installation",children:"1. ROS 2 Installation"}),"\n",(0,r.jsxs)(s.p,{children:["We will be using ",(0,r.jsx)(s.strong,{children:"ROS 2 Humble Hawksbill"}),", which is the latest long-term support (LTS) release. It is officially supported on Ubuntu 22.04 (Jammy Jellyfish)."]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Set Locale"}),":","\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"sudo apt update && sudo apt install locales\nsudo locale-gen en_US en_US.UTF-8\nsudo update-locale LC_ALL=en_US.UTF-8 LANG=en_US.UTF-8\nexport LANG=en_US.UTF-8\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Add ROS 2 APT Repository"}),":","\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'sudo apt install software-properties-common\nsudo add-apt-repository universe\nsudo apt update && sudo apt install curl -y\nsudo curl -sSL https://raw.githubusercontent.com/ros/rosdistro/master/ros.key -o /usr/share/keyrings/ros-archive-keyring.gpg\necho "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/ros-archive-keyring.gpg] http://packages.ros.org/ros2/ubuntu $(. /etc/os-release && echo $UBUNTU_CODENAME) main" | sudo tee /etc/apt/sources.list.d/ros2.list > /dev/null\n'})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Install ROS 2 Desktop"}),":","\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"sudo apt update\nsudo apt upgrade\nsudo apt install ros-humble-desktop\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Source the Setup File"}),":","\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'echo "source /opt/ros/humble/setup.bash" >> ~/.bashrc\nsource ~/.bashrc\n'})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"2-workspace-creation",children:"2. Workspace Creation"}),"\n",(0,r.jsx)(s.p,{children:"A ROS 2 workspace is a directory where you can create, modify, and build your own ROS 2 packages."}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Create a Workspace Directory"}),":","\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"mkdir -p ~/ros2_ws/src\ncd ~/ros2_ws\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Build the Workspace"}),":","\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"colcon build\n"})}),"\n","This command will build any packages found in the ",(0,r.jsx)(s.code,{children:"src"})," directory. Since it's empty, it will just create the ",(0,r.jsx)(s.code,{children:"build"}),", ",(0,r.jsx)(s.code,{children:"install"}),", and ",(0,r.jsx)(s.code,{children:"log"})," directories."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Source the Workspace"}),":","\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'echo "source ~/ros2_ws/install/setup.bash" >> ~/.bashrc\nsource ~/.bashrc\n'})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.h3,{id:"3-running-turtlesim",children:["3. Running ",(0,r.jsx)(s.code,{children:"turtlesim"})]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"turtlesim"})," is a classic ROS demo that provides a simple and fun way to visualize basic ROS 2 concepts."]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsxs)(s.strong,{children:["Run the ",(0,r.jsx)(s.code,{children:"turtlesim"})," Node"]}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"ros2 run turtlesim turtlesim_node\n"})}),"\n",(0,r.jsx)(s.p,{children:"This will open a window with a turtle in the center."}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsxs)(s.strong,{children:["Run the ",(0,r.jsx)(s.code,{children:"turtle_teleop_key"})," Node"]}),":\nIn a new terminal, run:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"ros2 run turtlesim turtle_teleop_key\n"})}),"\n",(0,r.jsxs)(s.p,{children:["You can now use the arrow keys on your keyboard to move the turtle in the ",(0,r.jsx)(s.code,{children:"turtlesim"})," window."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Introspecting the ROS Graph"}),":\nUse the ",(0,r.jsx)(s.code,{children:"ros2"})," command-line tool to inspect the running system:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"ros2 node list\nros2 topic list\nros2 topic echo /turtle1/cmd_vel\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"diagrams",children:"Diagrams"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"ROS 2 Architecture Overview"}),": This diagram will show the layered architecture of ROS 2, from the user's code at the top, through the ",(0,r.jsx)(s.code,{children:"rcl"})," client libraries, the ",(0,r.jsx)(s.code,{children:"rmw"})," middleware interface, and down to the specific DDS implementation at the bottom. It will also illustrate how different DDS vendors can be used."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"ROS Graph Illustration"}),": This diagram will visually represent the ",(0,r.jsx)(s.code,{children:"turtlesim"})," example, showing the ",(0,r.jsx)(s.code,{children:"/turtlesim"})," and ",(0,r.jsx)(s.code,{children:"/teleop_turtle"})," nodes, and the ",(0,r.jsx)(s.code,{children:"/turtle1/cmd_vel"})," topic connecting them."]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"code-templates",children:"Code Templates"}),"\n",(0,r.jsxs)(s.h3,{id:"basic-rclpy-publisher-example",children:["Basic ",(0,r.jsx)(s.code,{children:"rclpy"})," Publisher Example"]}),"\n",(0,r.jsxs)(s.p,{children:["This example demonstrates how to create a simple node that publishes a ",(0,r.jsx)(s.code,{children:"String"})," message to a topic every 0.5 seconds."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"# examples/module1/chapter1-ros2-basics/simple_publisher.py\n\nimport rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass MinimalPublisher(Node):\n\n    def __init__(self):\n        super().__init__('minimal_publisher')\n        self.publisher_ = self.create_publisher(String, 'topic', 10)\n        timer_period = 0.5  # seconds\n        self.timer = self.create_timer(timer_period, self.timer_callback)\n        self.i = 0\n\n    def timer_callback(self):\n        msg = String()\n        msg.data = f'Hello World: {self.i}'\n        self.publisher_.publish(msg)\n        self.get_logger().info(f'Publishing: \"{msg.data}\"')\n        self.i += 1\n\ndef main(args=None):\n    rclpy.init(args=args)\n    minimal_publisher = MinimalPublisher()\n    rclpy.spin(minimal_publisher)\n    minimal_publisher.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,r.jsxs)(s.h3,{id:"basic-rclpy-subscriber-example",children:["Basic ",(0,r.jsx)(s.code,{children:"rclpy"})," Subscriber Example"]}),"\n",(0,r.jsxs)(s.p,{children:["This example shows how to create a node that subscribes to the ",(0,r.jsx)(s.code,{children:"topic"})," and prints the received messages to the console."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"# examples/module1/chapter1-ros2-basics/simple_subscriber.py\n\nimport rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass MinimalSubscriber(Node):\n\n    def __init__(self):\n        super().__init__('minimal_subscriber')\n        self.subscription = self.create_subscription(\n            String,\n            'topic',\n            self.listener_callback,\n            10)\n        self.subscription\n\n    def listener_callback(self, msg):\n        self.get_logger().info(f'I heard: \"{msg.data}\"')\n\ndef main(args=None):\n    rclpy.init(args=args)\n    minimal_subscriber = MinimalSubscriber()\n    rclpy.spin(minimal_subscriber)\n    minimal_subscriber.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>o});var i=n(6540);const r={},t=i.createContext(r);function l(e){const s=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(t.Provider,{value:s},e.children)}}}]);