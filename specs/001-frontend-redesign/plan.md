# Implementation Plan: Modern Frontend Redesign

**Branch**: `001-frontend-redesign` | **Date**: 2025-12-09 | **Spec**: [spec.md](./spec.md)
**Input**: Feature specification from `/specs/001-frontend-redesign/spec.md`

## Summary

Complete visual redesign of the Docusaurus-based "Physical AI & Humanoid Robotics" textbook site. The implementation establishes a design token system, creates reusable components, implements smooth animations with accessibility support, and ensures responsive layouts across all devices. Uses Docusaurus's built-in theming capabilities with CSS custom properties.

## Technical Context

**Language/Version**: TypeScript 5.6.2 (React 19.0.0)
**Primary Dependencies**: Docusaurus 3.9.2, Infima CSS Framework, clsx
**Storage**: N/A (static site)
**Testing**: Lighthouse CLI, manual accessibility testing
**Target Platform**: Modern browsers (Chrome, Firefox, Safari, Edge), responsive (320px-2560px)
**Project Type**: Web (Docusaurus static site)
**Performance Goals**: Lighthouse 90+ (Performance, Accessibility), LCP < 2.5s, CLS < 0.1
**Constraints**: Must work within Docusaurus theming system, no additional CSS frameworks
**Scale/Scope**: ~10 page templates, 4-6 custom components

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

| Gate | Status | Notes |
|------|--------|-------|
| Existing patterns | PASS | Uses CSS Modules, follows Docusaurus conventions |
| Smallest viable change | PASS | Modifies existing files, adds minimal new components |
| Test-first approach | DEFER | Visual testing via Lighthouse, no unit tests needed for CSS |
| No unnecessary abstractions | PASS | Design tokens are industry standard, not over-engineering |

## Project Structure

### Documentation (this feature)

```text
specs/001-frontend-redesign/
├── plan.md              # This file
├── spec.md              # Feature specification
├── research.md          # Research findings
├── data-model.md        # Design token schema
├── quickstart.md        # Developer guide
├── contracts/           # API contracts
│   ├── design-tokens.css
│   └── component-api.ts
├── checklists/
│   └── requirements.md  # Validation checklist
└── tasks.md             # Implementation tasks (generated by /sp.tasks)
```

### Source Code (repository root)

```text
AIdd-book/
├── src/
│   ├── css/
│   │   ├── custom.css          # MODIFY: Import tokens, Infima overrides
│   │   ├── tokens.css          # NEW: Design token definitions
│   │   └── animations.css      # NEW: Animation keyframes
│   ├── components/
│   │   ├── HeroSection/        # NEW: Homepage hero component
│   │   │   ├── index.tsx
│   │   │   └── styles.module.css
│   │   ├── HomepageFeatures/   # MODIFY: Redesign feature cards
│   │   │   ├── index.tsx
│   │   │   └── styles.module.css
│   │   ├── CallToAction/       # MODIFY: Redesign CTA section
│   │   │   ├── index.tsx
│   │   │   └── styles.module.css
│   │   └── SectionContainer/   # NEW: Layout wrapper
│   │       ├── index.tsx
│   │       └── styles.module.css
│   └── pages/
│       ├── index.tsx           # MODIFY: Restructure homepage
│       └── index.module.css    # MODIFY: Hero styles
├── static/
│   └── img/                    # MODIFY: Add/optimize images
└── docusaurus.config.ts        # MODIFY: Theme configuration
```

**Structure Decision**: Single web project using Docusaurus's standard structure. Custom components in `src/components/`, global styles in `src/css/`.

## Implementation Phases

### Phase 1: Foundation - Design Token System

**Goal**: Establish the design token foundation that all components will use.

**Deliverables**:
- `src/css/tokens.css` - Complete design token definitions
- `src/css/custom.css` - Updated to import tokens and override Infima
- Dark/light theme token variants working

**Acceptance Criteria**:
- [ ] All tokens from `contracts/design-tokens.css` implemented
- [ ] Theme toggle switches colors correctly
- [ ] No hardcoded colors in existing CSS
- [ ] Contrast ratios verified (4.5:1 body, 3:1 large text)

**Dependencies**: None

---

### Phase 2: Core Components - Layout & Structure

**Goal**: Create reusable layout components for consistent page structure.

**Deliverables**:
- `SectionContainer` component
- Updated `custom.css` with global layout utilities
- Responsive breakpoint utilities

**Acceptance Criteria**:
- [ ] SectionContainer supports all variants (default, muted, primary, gradient)
- [ ] Max-width constraints work correctly
- [ ] Responsive padding scales appropriately
- [ ] Component follows `component-api.ts` interface

**Dependencies**: Phase 1 complete

---

### Phase 3: Hero Section Redesign

**Goal**: Create an impactful, animated hero section for the homepage.

**Deliverables**:
- `HeroSection` component (new or refactored from existing)
- `src/css/animations.css` with hero animations
- Updated `src/pages/index.tsx` to use new hero

**Acceptance Criteria**:
- [ ] Gradient background with subtle animation
- [ ] Text animations respect `prefers-reduced-motion`
- [ ] Responsive at all breakpoints
- [ ] CTA buttons clearly visible with proper contrast
- [ ] Background image optimization (if used)

**Dependencies**: Phase 1, Phase 2 complete

---

### Phase 4: Feature Cards Redesign

**Goal**: Modernize the homepage feature cards with consistent styling.

**Deliverables**:
- Updated `HomepageFeatures` component
- New `FeatureCard` sub-component (if separated)
- Local images to replace external picsum.photos URLs

**Acceptance Criteria**:
- [ ] Cards use design tokens for all styling
- [ ] Hover animations are smooth (300ms)
- [ ] Cards stack correctly on mobile
- [ ] Images optimized and locally hosted
- [ ] Alt text provided for all images

**Dependencies**: Phase 1 complete

---

### Phase 5: Call-to-Action Redesign

**Goal**: Update the CTA section with modern styling and animation.

**Deliverables**:
- Updated `CallToAction` component
- Background gradient or image options

**Acceptance Criteria**:
- [ ] Consistent with overall design language
- [ ] Works in both light and dark themes
- [ ] Responsive layout
- [ ] Button states clearly indicated

**Dependencies**: Phase 1 complete

---

### Phase 6: Navigation & Footer Polish

**Goal**: Ensure navigation and footer match the new design system.

**Deliverables**:
- Updated `docusaurus.config.ts` theme configuration
- Custom CSS for navbar/footer in `custom.css`

**Acceptance Criteria**:
- [ ] Navbar uses design tokens
- [ ] Mobile menu animation is smooth
- [ ] Footer links have proper hover states
- [ ] Current page indicator clear
- [ ] Scroll behavior for sticky navbar

**Dependencies**: Phase 1 complete

---

### Phase 7: Documentation Pages Polish

**Goal**: Apply design system to documentation content pages.

**Deliverables**:
- Updated `custom.css` with documentation-specific styles
- Typography refinements for readability

**Acceptance Criteria**:
- [ ] Line length constrained (45-75 chars)
- [ ] Code blocks styled consistently
- [ ] Table styling updated
- [ ] Blockquotes and callouts styled
- [ ] Images responsive with proper sizing

**Dependencies**: Phase 1 complete

---

### Phase 8: Accessibility & Performance Audit

**Goal**: Verify all accessibility and performance requirements are met.

**Deliverables**:
- Lighthouse audit reports
- Accessibility fixes as needed
- Performance optimizations

**Acceptance Criteria**:
- [ ] Lighthouse Performance 90+
- [ ] Lighthouse Accessibility 90+
- [ ] All focus indicators visible
- [ ] Keyboard navigation complete
- [ ] Screen reader testing passed
- [ ] No CLS issues (< 0.1)

**Dependencies**: All previous phases complete

---

### Phase 9: Cross-Browser Testing & Final Polish

**Goal**: Ensure consistent appearance across all target browsers.

**Deliverables**:
- Browser testing report
- Final CSS adjustments
- Image optimization verification

**Acceptance Criteria**:
- [ ] Chrome, Firefox, Safari, Edge tested
- [ ] No visual inconsistencies
- [ ] Mobile Safari tested
- [ ] All responsive breakpoints verified

**Dependencies**: Phase 8 complete

## Risk Analysis

| Risk | Likelihood | Impact | Mitigation |
|------|------------|--------|------------|
| Docusaurus theme conflicts | Medium | Medium | Use CSS custom properties for isolation |
| Performance regression | Low | High | Measure with Lighthouse before/after each phase |
| Accessibility issues | Medium | High | Test with screen reader during development |
| Browser inconsistencies | Low | Medium | Use progressive enhancement, test early |

## Dependencies

### External Dependencies

| Package | Current | Action |
|---------|---------|--------|
| `@docusaurus/core` | 3.9.2 | Keep (latest) |
| `@docusaurus/preset-classic` | 3.9.2 | Keep (latest) |
| `@docusaurus/plugin-ideal-image` | - | Consider adding for image optimization |

### Internal Dependencies

- Existing homepage structure (`src/pages/index.tsx`)
- Existing components (`HomepageFeatures`, `CallToAction`)
- Existing CSS (`custom.css`, component modules)
- Docusaurus configuration (`docusaurus.config.ts`)

## Success Metrics

| Metric | Target | Measurement |
|--------|--------|-------------|
| Lighthouse Performance | 90+ | Lighthouse CLI |
| Lighthouse Accessibility | 90+ | Lighthouse CLI |
| LCP | < 2.5s | Lighthouse/WebPageTest |
| CLS | < 0.1 | Lighthouse |
| Visual consistency | 0 issues | Manual cross-browser testing |

## Next Steps

1. Run `/sp.tasks` to generate detailed implementation tasks
2. Begin with Phase 1 (Design Token System)
3. Commit after each phase for easy rollback
4. Run Lighthouse audit after each major phase
