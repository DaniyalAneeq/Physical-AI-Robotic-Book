# Data Model for Module 4: Vision-Language-Action (VLA)

This document defines the key data entities for the VLA module, based on the feature specification.

## 1. VoiceCommand

Represents a voice command from the user.

- **Attributes**:
    - `raw_audio`: The raw audio data.
    - `transcribed_text` (string): The text transcribed from the audio by Whisper.
    - `parsed_intent` (string): The high-level intent extracted from the text (e.g., "fetch_object", "tidy_room").
    - `parameters` (dict): The parameters associated with the intent (e.g., `{"object": "blue cup", "location": "table"}`).

## 2. ActionPlan

A sequence of actions generated by the LLM planner.

- **Attributes**:
    - `plan_id` (UUID): A unique identifier for the plan.
    - `actions` (list of `ROS2Action`): The sequence of actions to be executed.
    - `status` (string): The status of the plan (e.g., "pending", "in_progress", "completed", "failed").

## 3. RobotState

Represents the current state of the robot.

- **Attributes**:
    - `pose` (geometry_msgs/Pose): The robot's current position and orientation in the world.
    - `joint_states` (sensor_msgs/JointState): The current state of the robot's joints.
    - `manipulated_object` (string or None): The object the robot is currently holding.

## 4. EnvironmentMap

A semantic representation of the environment.

- **Attributes**:
    - `map_id` (UUID): A unique identifier for the map.
    - `objects` (list of `DetectedObject`): A list of known objects in the environment.
    - `safety_zones` (list of polygons): A list of "no-go" zones.

## 5. DetectedObject

Represents an object detected by the vision system.

- **Attributes**:
    - `object_id` (UUID): A unique identifier for the object instance.
    - `label` (string): The object's class (e.g., "cup", "book").
    - `pose` (geometry_msgs/Pose): The object's position and orientation.
    - `bounding_box` (list of int): The 2D bounding box in the camera view.
    - `confidence` (float): The confidence score of the detection.

## 6. ROS2Action

A specific, executable robot behavior.

- **Attributes**:
    - `action_name` (string): The name of the ROS 2 action server (e.g., "navigate", "pick_object").
    - `action_goal` (varies): The goal message for the action server.
    - `status` (string): The status of the action (e.g., "pending", "active", "succeeded", "aborted").
